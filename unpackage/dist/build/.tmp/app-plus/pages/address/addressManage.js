(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"15d1":function(e,s,t){"use strict";t.r(s);var a=t("d18f"),i=t.n(a);for(var d in a)"default"!==d&&function(e){t.d(s,e,function(){return a[e]})}(d);s["default"]=i.a},"1c0c":function(e,s,t){},"462b":function(e,s,t){"use strict";t.r(s);var a=t("576a"),i=t("15d1");for(var d in i)"default"!==d&&function(e){t.d(s,e,function(){return i[e]})}(d);t("f0c5");var n=t("2877"),o=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,null,null);s["default"]=o.exports},"576a":function(e,s,t){"use strict";var a=function(){var e=this,s=e.$createElement;e._self._c},i=[];t.d(s,"a",function(){return a}),t.d(s,"b",function(){return i})},"729b":function(e,s,t){"use strict";(function(e){t("22dd"),t("921b");a(t("66fd"));var s=a(t("462b"));function a(e){return e&&e.__esModule?e:{default:e}}e(s.default)}).call(this,t("6e42")["createPage"])},d18f:function(e,s,t){"use strict";(function(e,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(t("97ed")),d=o(t("ec04")),n=o(t("102a"));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){return Promise.all([t.e("common/vendor"),t.e("pages/mpvue-citypicker/mpvueCityPicker")]).then(t.bind(null,"cbb8"))},c=new i.default,u={data:function(){return{consignee:"",phone:"",addressId:"",province:"",details:"",addressList:{default:0},direction:"",cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",pickerText:"选择省/市/区",Default:!1}},components:{mpvueCityPicker:r},methods:{submit:function(){var s=this;return""==s.consignee?(e.showToast({icon:"none",title:"请填写联系人"}),!1):""==s.phone?(e.showToast({icon:"none",title:"请填写手机号"}),!1):/^1[3456789]\d{9}$/.test(s.phone)?"选择省/市/区"==s.pickerText?(e.showToast({icon:"none",title:"请选择省/市/区"}),!1):(s.pickerText=s.pickerText.split("-"),s.pickerText=s.pickerText[0]+s.pickerText[1]+s.pickerText[2],""==s.details?(e.showToast({icon:"none",title:"请填写详细地址"}),!1):(console.log(a(s.addressList.default," at pages\\address\\addressManage.vue:99")),void e.request({url:n.default.urlAdress+"user/address/addAddress",method:"get",dataType:"JSON",data:{PhoneNumber:s.phone,userId:2,Contact:s.consignee,HfConty:"中国"+s.pickerText,HfAddressDetail:s.details,HfCity:"天津市",HfDesc:"11111",HfProvince:"天津市",IsFaultAddress:s.addressList.default},success:function(s){console.log(a("添加收获地址",s," at pages\\address\\addressManage.vue:116")),200==s.data.status?(e.showToast({title:"添加成功"}),setTimeout(function(){e.navigateBack({delta:1})},1e3)):e.showToast({icon:"none",title:"添加失败"})}}))):(e.showToast({icon:"none",title:"手机号格式不正确"}),!1)},switchChange:function(e){this.addressList.default=e.detail,1==e.detail.value?(this.addressList.default=1,console.log(a(this.addressList.default," at pages\\address\\addressManage.vue:145"))):this.addressList.default=0,console.log(a(e.detail," at pages\\address\\addressManage.vue:149"))},showMulLinkageThreePicker:function(){console.log(a(this.showMulLinkageThreePicker," at pages\\address\\addressManage.vue:153")),this.$refs.mpvueCityPicker.show()},onConfirm:function(e){console.log(a(e," at pages\\address\\addressManage.vue:157"));var s=e.label;this.pickerText=s;var t=s.split("-");this.addressList.province=t[0],this.addressList.city=t[1],this.addressList.district=t[2]},chooseLocation:function(){var s=this;e.chooseLocation({success:function(e){s.direction=e.name,console.log(a("位置名称："+e.name," at pages\\address\\addressManage.vue:171")),console.log(a("详细地址："+e.address," at pages\\address\\addressManage.vue:172")),console.log(a("纬度："+e.latitude," at pages\\address\\addressManage.vue:173")),console.log(a("经度："+e.longitude," at pages\\address\\addressManage.vue:174")),s.addressList.longitude=e.longitude,s.addressList.latitude=e.latitude}})},confirm:function(){var s=this.addressData;s.name?/(^1[3|4|5|7|8][0-9]{9}$)/.test(s.mobile)?s.address?s.area?(this.$api.prePage().refreshList(s,this.manageType),this.$api.msg("地址".concat("edit"==this.manageType?"修改":"添加","成功")),setTimeout(function(){e.navigateBack()},800)):this.$api.msg("请填写门牌号信息"):this.$api.msg("请在地图选择所在位置"):this.$api.msg("请输入正确的手机号码"):this.$api.msg("请填写收货人姓名")}},onLoad:function(s){var t="新增收货地址";if("edit"===s.type){t="编辑收货地址",this.addressId=JSON.parse(s.data),console.log(a(this.addressId," at pages\\address\\addressManage.vue:217"));var i=this;i.addressId&&c.submit({request:{s:["USERADDRESSSELFGET",[{id:i.addressId}]]},callback:function(s){var t=d.default.checkError(s,"s",function(s,t){e.showToast({title:t,icon:"none"})});console.log(a(t," at pages\\address\\addressManage.vue:231")),i.addressList=t.s;var n=t.s.province,o=t.s.city,r=t.s.district;i.pickerText=n+"-"+o+"-"+r,1==i.addressList.default?i.Default=!0:i.Default=!1},error:function(e){d.default.err("err",e,1)}})}this.manageType=s.type,e.setNavigationBarTitle({title:t})}};s.default=u}).call(this,t("6e42")["default"],t("0de9")["default"])},f0c5:function(e,s,t){"use strict";var a=t("1c0c"),i=t.n(a);i.a}},[["729b","common/runtime","common/vendor"]]]);